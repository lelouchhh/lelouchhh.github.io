!function(widget,$){widget.checkboxAndRadio=function(pSelector,pType,pOptions){function _clear(){$.mobile?gFieldset$.children("div.ui-controlgroup-controls").empty():gFieldset$.children(":not(legend)").remove()}function _triggerRefresh(){gFieldset$.trigger("apexrefresh")}function _addResult(pData){$.mobile?($("div.ui-controlgroup-controls",gFieldset$).append(pData.html),$(":"+pType,gFieldset$).checkboxradio(),gFieldset$.controlgroup()):gFieldset$.append(pData.html),$s(gFieldset$[0],pData["default"])}function refresh(){var lOptions={optimizeRefresh:gOptions.optimizeRefresh,dependingOn:$(gOptions.dependingOnSelector,apex.gPageContext$),success:_addResult,clear:_clear};widget.util.cascadingLov(gFieldset$,gOptions.ajaxIdentifier,{x01:gOptions.inputName,pageItems:$(gOptions.pageItemsToSubmit,apex.gPageContext$)},lOptions)}var gOptions=$.extend({action:null,nullValue:"",inputName:null},pOptions),gFieldset$=$(pSelector,apex.gPageContext$);$(pSelector,apex.gPageContext$).each(function(){var lFieldset=this;widget.initPageItem(this.id,{enable:function(){$(":"+pType,lFieldset).prop("disabled",!1).removeClass("apex_disabled_multi")},disable:function(){$(":"+pType,lFieldset).prop("disabled",!0).addClass("apex_disabled_multi")},setValue:function(pValue){var $lRadios=$(":"+pType,lFieldset),lValueArray=[];$lRadios.prop("checked",!1),"checkbox"===pType?lValueArray=apex.util.toArray(pValue):lValueArray[0]=pValue;for(var i=0;i<lValueArray.length;i++)$lRadios.filter("[value="+lValueArray[i]+"]").prop("checked",!0)},getValue:function(){var lReturn,$lRadio;return"checkbox"===pType?(lReturn=[],$(":checked",lFieldset).each(function(){lReturn[lReturn.length]=this.value})):($lRadio=$(pSelector+" :checked",apex.gPageContext$),lReturn=0===$lRadio.length?"":$lRadio.val()),lReturn},afterModify:function(){$.mobile&&$(":"+pType,lFieldset).checkboxradio("refresh")},nullValue:gOptions.nullValue,setFocusTo:$(":"+pType,lFieldset).first(),loadingIndicator:function(pLoadingIndicator$){var lLoadingIndicator$;return lLoadingIndicator$=pLoadingIndicator$.appendTo($.mobile?$("div.ui-controlgroup-controls",gFieldset$):gFieldset$)}})}),gOptions.dependingOnSelector&&$(gOptions.dependingOnSelector,apex.gPageContext$).change(_triggerRefresh),gFieldset$.bind("apexrefresh",refresh),"REDIRECT_SET_VALUE"===gOptions.action?gFieldset$.find("input").click(function(){location.href="f?p="+$v("pFlowId")+":"+$v("pFlowStepId")+":"+$v("pInstance")+"::"+$v("pdebug")+"::"+gFieldset$.attr("id")+":"+$v(gFieldset$.attr("id"))}):"SUBMIT"===gOptions.action&&gFieldset$.find("input").click(function(){apex.submit(gFieldset$.attr("id"))}),$.mobile&&gFieldset$.siblings("label").hide()}}(apex.widget,apex.jQuery);